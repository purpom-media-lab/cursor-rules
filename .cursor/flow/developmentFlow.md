# 開発プロセスガイドライン

このドキュメントは、プロジェクトの開発プロセスを詳細に定義し、一貫した品質と効率的な開発を促進します。

## 段階的開発フローの基本原則

プロジェクトの開発は以下の段階的なプロセスに従って進めます：

### 1. 要件ヒアリング

- **目的**: プロダクトの要件をヒアリングし、実装すべきプロダクトについて把握する。
- **アクション**:
  - プロダクトの特徴（B 向けか C 向けか、製造業などのドメイン）を把握
  - ターゲットユーザーと主要ユースケースを確認
  - プロダクトの独自の価値提案を理解
  - ビジネス要件とユーザー要件を明確に分離して収集
  - ステークホルダーごとの要望と優先順位を把握
- **成果物**:
  - `requirements/product/overview.md`の作成・更新
  - `requirements/product/userStories.md`の作成・更新
  - `requirements/product/scope.md`の作成・更新

### 2. 必要機能・画面の洗い出し

- **目的**: 要件を満たすために必要な機能と画面を洗い出し、開発スコープを明確化する。
- **アクション**:
  - ユーザーストーリーに基づいて必要な機能リストを作成
  - 画面フローを設計し、必要な画面を特定
  - 各機能の優先順位付け
  - MVP に含める機能を決定
  - 機能間の依存関係を特定
- **成果物**:
  - `requirements/functional/requirements.md`の作成・更新
  - `requirements/non-functional/`以下の各非機能要件ドキュメントの作成・更新
  - 画面フロー図
  - 機能一覧表

### 3. 技術選定・アーキテクチャ選定

- **目的**: 要件を最適に満たすための技術スタックとアーキテクチャを選定する。
- **アクション**:
  - 機能要件と非機能要件に基づく技術選定基準の策定
  - フロントエンド、バックエンド、インフラなどの各レイヤーごとの技術検討
  - プロトタイプを作成して技術検証
  - システムアーキテクチャの設計
  - データモデルの設計
- **成果物**:
  - `rules/systemPattern.md`の更新
  - `rules/implementationGuide.md`の更新
  - `docs/architecture/`以下のアーキテクチャドキュメント
  - データモデル図

### 4. 画面ごとに機能仕様書の作成

- **目的**: 各画面の詳細な仕様を定義し、開発者が明確に理解できるようにする。
- **アクション**:
  - 各画面ごとに詳細な仕様を定義
  - 画面レイアウト、UI 要素、振る舞いを明確化
  - 画面遷移とデータフローを定義
  - エラーケースとエッジケースを考慮
  - ステークホルダーとのレビューと確認
- **成果物**:
  - `specs/pages/[画面名]/spec.md`
  - `specs/common/`以下の共通コンポーネント仕様
  - ワイヤーフレームまたはモックアップ

### 5. 画面ごとにテストケースの作成

- **目的**: 品質基準を明確にし、テスト駆動開発の基盤を整える。
- **アクション**:
  - 機能仕様書に基づくテストケースの作成
  - 正常系・異常系の両方をカバー
  - エッジケースの考慮
  - 受け入れ基準の明確化
- **成果物**:
  - `tests/testcases/pages/[画面名]/testcases.md`
  - `tests/testcases/common/`以下の共通コンポーネントテストケース

### 6. デザインシステムの構築

- **目的**: 一貫したユーザー体験を提供するための基盤を確立する
- **アクション**:

  #### ① ベースとなるデザインガイドラインの定義

  - Material Design、Human Interface Guidelines、Fluent Design などから適切なものを選択
  - プロダクトの特性に合わせたカスタマイズポイントを特定

  #### ② グローバルテーマの定義

  - **Typography**: フォントファミリー、サイズ体系、ウェイトの定義
  - **Palette**: プライマリカラー、セカンダリカラー、アクセントカラーの決定
  - **Shadow**: 影の強弱、階層表現方法の決定

  #### ③ 汎用コンポーネントの定義

  - Button、Label、Input、Icon など基本コンポーネントを定義
  - コンポーネントライブラリに実装
  - 作成したコンポーネント全てにコンポーネントカタログを定義

  #### ④ 画面レイアウトの定義

  - ヘッダー、サイドバー、メインセクションの設計
  - レスポンシブ対応の考慮

- **成果物**:
  - `rules/designSystem.md`の更新
  - コアコンポーネントの実装
  - コンポーネントカタログ

### 7. TDD で実装

- **目的**: テスト駆動開発によって高品質なコードを実装する。
- **アクション**:

  #### ① テストコード生成

  - テストケースに基づくテストコードの作成
  - 単体テスト・結合テストの適切な分離

  #### ② フロントエンド実装

  - 仕様書に基づいた UI を作成
  - テストが通るように機能実装
  - デザインシステムに準拠した UI 実装
  - コンポーネント分割とロジック分離

  #### ③ バックエンド実装

  - API スペックに基づいたバックエンド実装
  - テストが通るように機能実装
  - データベースとの連携実装
  - エラーハンドリングの実装

- **成果物**:
  - テストコード
  - フロントエンドコード
  - バックエンドコード

### 8. 結合テストと E2E テスト

- **目的**: 各コンポーネントが正しく連携し、システム全体が期待通りに動作することを確認する。
- **アクション**:
  - フロントエンドとバックエンドの結合テスト
  - 一連の機能実装後、重要機能の E2E テスト作成
  - リグレッションテストのシナリオ設計
  - 自動化テストの実装
- **成果物**:
  - 結合テスト
  - E2E テストコード
  - テスト結果レポート

### 9. デプロイと運用

- **目的**: システムを安全に本番環境にデプロイし、安定した運用を実現する。
- **アクション**:
  - デプロイパイプラインの構築
  - ステージング環境でのテスト
  - 本番環境へのデプロイ
  - モニタリングとログ収集の設定
  - 障害対応プランの策定
- **成果物**:
  - デプロイスクリプト
  - 運用マニュアル
  - 監視ダッシュボード

## 段階的開発フローのメリット

- **方向性の明確化**: 各ステップが明確に定義されているため、開発の方向性が明確
- **品質の確保**: テスト駆動開発により高い品質を担保
- **効率的な開発**: 上流工程での問題発見により、手戻りを最小化
- **一貫性の維持**: デザインシステムを基盤とした一貫したユーザー体験の提供
- **チーム協働の促進**: 明確なプロセスにより、チームメンバー間の連携が円滑化

## プロセス適用のガイドライン

- 小規模な機能から大規模な機能まで、このプロセスを柔軟に適用
- 機能の複雑さに応じて、各ステップに割く時間とリソースを調整
- イテレーティブな開発を推奨し、必要に応じて前のステップに戻って改善
- 各ステップの成果物はチームで共有し、フィードバックを得ることを推奨
- ユーザーとの定期的なミーティングでフィードバックを収集し、各フェーズの成果物に反映する

# プロジェクト開発フロー

このドキュメントはプロジェクト全体の開発プロセスを定義します。このフローはプロジェクト全体を通して基本的に変更されません。

## フェーズ 1：要件定義

### 目的

プロジェクトの要件を明確にし、開発の方向性を定める。

### 活動

1. 要件ヒアリング
2. ユーザーストーリーの作成
3. 必要機能・画面の洗い出し
4. 機能要件の定義
5. 非機能要件の定義
6. プロジェクトスコープの確定

### 成果物

- 要件定義書（`.cursor/requirements/product/overview.md`）
- ユーザーストーリー一覧（`.cursor/requirements/product/userStories.md`）
- プロジェクトスコープ文書（`.cursor/requirements/product/scope.md`）
- 機能要件（`.cursor/requirements/functional/`ディレクトリ内の各機能別 MD ファイル）
- 非機能要件（`.cursor/requirements/non-functional/`ディレクトリ内の各カテゴリ別 MD ファイル）
- 用語集（`.cursor/requirements/product/glossary.md`）
- 画面フロー図

### 要件の構成と保存方法

#### 1. プロダクト全体の要件

プロダクト全体に関する要件は `.cursor/requirements/product/` ディレクトリに保存します：

- `overview.md` - プロダクトの概要、目的、対象ユーザー、主要機能の概略
- `userStories.md` - ユーザーストーリー一覧
- `scope.md` - プロジェクトのスコープと制約条件
- `glossary.md` - プロジェクト固有の用語の定義

#### 2. 機能要件

個別の機能要件は `.cursor/requirements/functional/` ディレクトリに機能ごとにファイルを作成して保存します：

- `[機能名].md` - 各機能の詳細要件

#### 3. 非機能要件

非機能要件は `.cursor/requirements/non-functional/` ディレクトリにカテゴリごとにファイルを作成して保存します：

- `performance.md` - パフォーマンス要件
- `security.md` - セキュリティ要件
- `usability.md` - ユーザビリティ要件
- `maintainability.md` - 保守性要件
- `compatibility.md` - 互換性要件
- その他必要に応じて追加

## フェーズ 2：技術選定・アーキテクチャ設計

### 目的

要件を最適に満たすための技術スタックとアーキテクチャを選定する。

### 活動

1. 機能要件と非機能要件に基づく技術選定基準の策定
2. フロントエンド、バックエンド、インフラの技術スタック選定
3. システムアーキテクチャの設計
4. データモデルの設計
5. セキュリティ設計

### 成果物

- 技術スタック定義書
- システムアーキテクチャ図（`docs/architecture/`ディレクトリ内）
- データモデル図（`docs/architecture/data-model.md`）
- セキュリティ設計書（`docs/architecture/security.md`）
- 実装ガイドライン（`.cursor/rules/implementationGuide.md`の更新）
- システムパターン定義（`.cursor/rules/systemPattern.md`の更新）

## フェーズ 3：設計

### 目的

ユーザー体験を向上させる UI/UX とシステム機能の詳細を設計する。

### 活動

1. 画面ごとの機能仕様書作成
2. 画面ごとのテストケース作成
3. デザインシステムの構築
4. 共通コンポーネントの設計
5. 画面遷移フローの設計
6. API 設計

### 成果物

- デザインシステム定義（`.cursor/rules/designSystem.md`の更新）
- ワイヤーフレーム/モックアップ（`specs/pages/[画面名]/mockup.png`）
- 画面仕様書（`specs/pages/[画面名]/spec.md`）
- 共通コンポーネント仕様（`specs/common/[コンポーネント名].md`）
- テストケース一覧（`tests/testcases/pages/[画面名]/testcases.md`）
- 共通コンポーネントのテストケース（`tests/testcases/common/[コンポーネント名].md`）
- API 仕様書（`docs/api/`ディレクトリ内）

## フェーズ 4：実装

### 目的

TDD に基づいてシステムを実装する。

### 活動

1. テストコード作成
2. フロントエンド実装
3. バックエンド実装
4. コードレビュー
5. 継続的インテグレーション

### 成果物

- テストコード
- フロントエンドコード
- バックエンドコード
- ビルド/デプロイスクリプト

## フェーズ 5：テスト

### 目的

実装したシステムの品質を確保する。

### 活動

1. 単体テスト
2. 結合テスト
3. E2E テスト
4. パフォーマンステスト
5. セキュリティテスト
6. ユーザビリティテスト

### 成果物

- テスト結果報告書
- 不具合一覧

## フェーズ 6：デプロイ

### 目的

システムを本番環境にデプロイする。

### 活動

1. デプロイ計画の作成
2. デプロイ手順の確立
3. 本番環境への展開
4. 展開後の動作確認

### 成果物

- デプロイ計画書
- デプロイ手順書
- 本番環境構成図

## フェーズ 7：保守・運用

### 目的

システムの安定運用と継続的な改善を行う。

### 活動

1. 監視体制の確立
2. バグ修正
3. 機能改善
4. パフォーマンス最適化
5. セキュリティアップデート

### 成果物

- 運用手順書
- 監視ダッシュボード
- 定期メンテナンス計画

## フェーズ間の遷移ルール

- 各フェーズは原則として順番に実施する
- 前のフェーズの成果物を次のフェーズのインプットとする
- フェーズの移行には、前フェーズの成果物のレビューと承認が必要
- 必要に応じて前のフェーズに戻ることも可能（特に新たな要件追加時など）
- ユーザーとの定期的なミーティングでフィードバックを収集し、各フェーズの成果物に反映する
